<!DOCTYPE html>
<!-- Dual-Deployment Rocket Tutorial • Caledonian Rocketry -->
<html lang="en" x-data="guRocketryApp" :class="{ dark: darkMode }">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Build a Dual-Deployment Rocket • Caledonian Rocketry</title>

    <!-- Fonts & Tailwind -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=typography,aspect-ratio"></script>

    <!-- AOS scroll animations -->
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css" />
    <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>

    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script>
      document.addEventListener('alpine:init', () => {
        Alpine.data('guRocketryApp', () => ({ darkMode: true }));
      });
    </script>

    <!-- Colour tokens + prose utilities -->
    <style>
      :root { --rocket-red:#ff3131; --earth-brown:#8b5e3c; }
      body  { font-family:'Inter',sans-serif; }
      .accent-red   { color:var(--rocket-red); }
      .accent-brown { color:var(--earth-brown); }

      /* tutorial prose helpers  */
      .callout{background:rgba(31,41,55,.6);border-left:4px solid var(--rocket-red);
               padding:1rem;border-radius:.5rem;font-size:.875rem;color:#e5e7eb;margin:1.5rem 0;}
      pre code{display:block;background:rgba(17,24,39,.9);padding:1rem;border-radius:.375rem;
               color:#f3f4f6;overflow-x:auto;font-size:.75rem;line-height:1.625;}
      th,td{padding:.75rem 1rem;}
      .video-placeholder{background:rgba(31,41,55,.4);color:#e5e7eb;display:flex;
                         align-items:center;justify-content:center;height:200px;border-radius:.5rem;
                         margin:1rem 0;font-size:.875rem;}

      /* ★ star-field canvas */
      #starfield{position:fixed;inset:0;z-index:-1;background:#000;touch-action:none}
    </style>
  </head>

  <!-- ★ no fade-in opacity trap here -->
  <body class="bg-white dark:bg-gray-950 text-gray-900 dark:text-white antialiased scroll-smooth">

    <!-- ★ star-field canvas -->
    <canvas id="starfield"></canvas>

    <!-- ============== NAVBAR (from Certification page) ============== -->
    <header class="sticky top-0 z-50 backdrop-blur-lg/60 border-b border-gray-800 dark:border-gray-700" x-data="{open:false}">
      <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
        <a href="index.html" class="text-xl font-extrabold tracking-tight accent-brown">Caledonian Rocketry</a>

        <!-- desktop links -->
        <nav class="hidden md:flex gap-8 text-sm uppercase font-semibold">
          <a href="index.html"             class="hover:text-[color:var(--rocket-red)]">Home</a>
          <a href="Events.html"            class="hover:text-[color:var(--rocket-red)]">Events</a>
          <a href="Preliminaries.html"     class="hover:text-[color:var(--rocket-red)]">Preliminaries</a>
          <a href="DeploymentTutorial.html"class="text-[color:var(--rocket-red)]">Tutorials</a>
          <a href="certification.html"     class="hover:text-[color:var(--rocket-red)]">Certifications</a>
        </nav>

        <!-- mobile burger -->
        <button @click="open=!open" class="md:hidden text-gray-100">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" stroke="currentColor">
            <path x-show="!open" stroke-linecap="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
            <path x-show="open"  stroke-linecap="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </button>
      </div>

      <!-- mobile drawer -->
      <div x-show="open" x-transition class="md:hidden bg-gray-900 border-t border-gray-800">
        <ul class="flex flex-col items-center py-6 gap-6 text-lg font-semibold">
          <li><a href="index.html"             @click="open=false" class="hover:text-[color:var(--rocket-red)]">Home</a></li>
          <li><a href="Events.html"            @click="open=false" class="hover:text-[color:var(--rocket-red)]">Events</a></li>
          <li><a href="Preliminaries.html"     @click="open=false" class="hover:text-[color:var(--rocket-red)]">Preliminaries</a></li>
          <li><a href="DeploymentTutorial.html"@click="open=false" class="text-[color:var(--rocket-red)]">Tutorials</a></li>
          <li><a href="certification.html"     @click="open=false" class="hover:text-[color:var(--rocket-red)]">Certifications</a></li>
        </ul>
      </div>
    </header>

    <!-- ====================== HERO ====================== -->
    <section class="pt-32 pb-20 bg-gradient-to-b from-black to-gray-900 text-center relative overflow-hidden">
      <img src="./assets/tutorials/dual_hero.jpg"
           alt="Dual Deployment schematic"
           class="absolute inset-0 w-full h-full object-cover opacity-20 pointer-events-none" />
      <div class="relative z-10 max-w-4xl mx-auto px-4" data-aos="zoom-in">
        <h1 class="text-4xl md:text-5xl font-extrabold mb-3 accent-brown">
          Dual-Deployment Rocket: Structural Tutorial
        </h1>
        <p class="text-gray-300">
          Step-by-step guide to each airframe component, payload, wiring and recovery hardware—right down to epoxy fillets.
        </p>
      </div>
    </section>

    <!-- ====================== MAIN (existing content stays unchanged) ====================== -->
    <main class="prose dark:prose-invert md:prose-lg max-w-4xl mx-auto px-4 py-16 prose-headings:font-semibold prose-headings:accent-brown">
      <!-- … full original tutorial markup continues here exactly as before … -->
      <!-- (kept intact from your previous DeploymentTutorial.html) -->
    </main>

    <!-- ====================== FOOTER ====================== -->
    <footer class="border-t border-gray-800 dark:border-gray-700 py-8 text-center text-sm text-gray-500 dark:text-gray-400">
      © 2025 Craig Andrews · Caledonian Rocketry
    </footer>

    <!-- Init AOS -->
    <script> AOS.init({ duration: 800, once: true }); </script>

    <!-- ★★ Star-field JS (same proven code) -->
    <script>
      document.addEventListener('DOMContentLoaded',()=>{
        const c=document.getElementById('starfield'),ctx=c.getContext('2d'),
              DPR=window.devicePixelRatio||1,
              L=[{n:60,s:.06,z:1.6},{n:120,s:.03,z:1.1},{n:180,s:.015,z:.8}];
        let W,H,S=[],tx=0,ty=0,last=0;
        const R=()=>{W=c.width=innerWidth*DPR;H=c.height=innerHeight*DPR;ctx.scale(DPR,DPR);S=[];
          L.forEach(l=>{for(let i=0;i<l.n;i++)S.push({x:Math.random()*innerWidth,y:Math.random()*innerHeight,l,phi:Math.random()*360})})};
        const draw=t=>{
          ctx.clearRect(0,0,W,H);
          if(t-last>600+Math.random()*600){last=t;const n=1+Math.floor(Math.random()*3);
            for(let k=0;k<n;k++){const v=4+Math.random()*4;
              S.push({m:1,x:-200-Math.random()*150,y:Math.random()*innerHeight*.7,vx:v,vy:v*.15,len:120+Math.random()*80})}}
          S.forEach((s,i)=>{
            if(s.m){
              ctx.strokeStyle='rgba(255,255,255,.85)';ctx.lineWidth=2;
              ctx.beginPath();ctx.moveTo(s.x,s.y);ctx.lineTo(s.x-s.len,s.y-s.len*.2);ctx.stroke();
              s.x+=s.vx;s.y+=s.vy;s.len*=.985;if(s.x>innerWidth+200)S.splice(i,1);return;}
            const px=s.x+tx*s.l.s*30,py=s.y+ty*s.l.s*30,
                  a=.6+.4*Math.sin(t/1000+s.phi),
                  h=200+55*Math.sin(t/1500+s.phi);
            ctx.fillStyle=`hsla(${h},100%,88%,${a})`;
            ctx.fillRect(px,py,s.l.z,s.l.z);
            s.y+=s.l.s*16;if(s.y>innerHeight)s.y=0;});
          requestAnimationFrame(draw);};
        addEventListener('pointermove',e=>{tx=e.clientX/innerWidth-.5;ty=e.clientY/innerHeight-.5},{passive:true});
        addEventListener('deviceorientation',e=>{if(e.beta!=null){tx=e.gamma/20;ty=e.beta/40}},{passive:true});
        R();requestAnimationFrame(draw);addEventListener('resize',R);
      });
    </script>
  </body>
</html>
